<ion-header>

  <ion-navbar>
    <ion-title>Register</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <form [formGroup]="form">
    <ion-list>
      <ion-item>
        <ion-label>Nome</ion-label>
        <ion-input [(ngModel)]="user.name" formControlName="name" type="text"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['name'].errors && form.controls['name'].dirty" color="danger">O Nome é obrigatório</ion-label>

      <ion-item>
        <ion-label>Email</ion-label>
        <ion-input [(ngModel)]="user.email" formControlName="email" type="email"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['email'].errors && form.controls['email'].dirty" color="danger">O Email está incorreto</ion-label>

      <ion-item>
        <ion-label>Login</ion-label>
        <ion-input [(ngModel)]="user.username" s formControlName="username" type="text"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['username'].errors && form.controls['username'].dirty" color="danger">O Nome de usuário inválido</ion-label>

      <ion-item>
        <ion-label>Senha</ion-label>
        <ion-input [(ngModel)]="user.password" formControlName="password" type="password"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['password'].errors && form.controls['password'].dirty" color="danger"> Email está incorreto </ion-label>

      <ion-item>
        <ion-label>Confirmar Senha</ion-label>
        <ion-input [(ngModel)]="user.passwordConfirmation" formControlName="passwordConfirmation" type="password"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['passwordConfirmation'].errors && form.controls['passwordConfirmation'].dirty" color="danger">Senha de confirmação está inválida</ion-label>

      <ion-item>
        <ion-label>Marca</ion-label>
        <ion-input [(ngModel)]="user.car.marca" formControlName="marca" type="text"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['marca'].errors && form.controls['marca'].dirty" color="danger"> A marca está incorreto</ion-label>

      <ion-item>
        <ion-label>Modelo</ion-label>
        <ion-input [(ngModel)]="user.car.modelo" formControlName="modelo" type="text"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['modelo'].errors && form.controls['modelo'].dirty" color="danger">O modelo está incorreto</ion-label>

      <ion-item>
        <ion-label>Placa</ion-label>
        <ion-input [(ngModel)]="user.car.placa" formControlName="placa" type="text"></ion-input>
      </ion-item>
      <ion-label *ngIf="form.controls['placa'].errors && form.controls['placa'].dirty" color="danger">A placa está inválida</ion-label>

    </ion-list>

    <div padding>
      <button [disabled]="!form.valid || !comparePasswords()" (click)="registerClick()" ion-button>Registrar</button>
      <button (click)="goBackClick()" ion-button>Voltar</button>
    </div>
  </form>
</ion-content>
